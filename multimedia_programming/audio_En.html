<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
	<meta name="description" content="Clara Peñalva's personal website" />
	<title>Clara Peñalva</title>
	<link rel="shortcut icon" href="../pics/favicon.png"/>
	<script src="http://code.jquery.com/jquery-latest.js"></script>
	<link rel="stylesheet" type="text/css"  media="only screen and (min-device-width: 500px)"  href="../style.css">
	<link rel="stylesheet" type="text/css" href="../style_resize.css">
	<link rel="stylesheet" type="text/css"  media="only screen and (max-device-width: 500px)"  href="../style_movil.css">
	<link rel ="stylesheet" type="text/css" href="../fonts.css"/>
	<script type="text/javascript" src="../js/AsideTop.js" language="javascript"> </script>
	<script type="text/javascript" src="../js/scrollUp.js" language="javascript"> </script>	
	<script type="text/javascript" language="javascript"> 
	
	//se cargan los distintos componentes
	var audio, audioActual, texto, estado;
	function inicio(){
		audio = document.getElementById("audioControl");
		audioActual = document.getElementById("audioActual");
		tiempo = document.getElementById("textoAudio");
		musica1 = document.getElementById("musica1");
		musica2 = document.getElementById("musica2");
		musica3 = document.getElementById("musica3");
		estado = "pausado";
	}
	
	function cargar() {			
		var min = parseInt(audio.duration);
		var segTot = parseInt(min % 60);
		if (segTot < 10){
			segTot = "0"+segTot;
		}
		tiempo.innerHTML = ("0:00 / " + parseInt(min/60) + ":" + segTot + " | " + estado);
	}

	function actualizaTiempo(){
		var min = parseInt(audio.duration);
		var minAct = parseInt(audio.currentTime);
		var segAct = parseInt(minAct % 60);
		if (segAct < 10){
				segAct = "0"+segAct;
			}
		var segTot = parseInt(min % 60);
		if (segTot < 10){
			segTot = "0"+segTot;
		}
		tiempo.innerHTML = (parseInt(minAct/60) + ":" +segAct + " / " + parseInt(min/60) + ":" + segTot + " | " + estado); 
	}
	
	function playCancion(id){
		 switch(id){
			case 1:
				audioActual.src = "../audios/et-flying_theme.mp3";
				musica1.style.background = "#FFA99A";
				musica2.style.background = "none";
				musica3.style.background = "none";
				break;
			case 2:
				audioActual.src = "../audios/appocalypse_now-ride_of_the_valkyries.mp3";
				musica2.style.background = "#FFA99A";
				musica1.style.background = "none";
				musica3.style.background = "none";
				break;
			case 3:
				audioActual.src = "../audios/excalibur-o_fortuna.mp3";
				musica3.style.background = "#FFA99A";
				musica1.style.background = "none";
				musica2.style.background = "none";
				break;
		}
		audio.load();
		audio.play();
		estado = "en marcha";
	}
	function playAhora(){
		estado = "en marcha";
	}
	function pauseAhora(){
		if(audio.duration == audio.currentTime)
			estado = "finalizada";
		else
			estado = "pausada";
		actualizaTiempo();
	}
	</script>	
</head>
  
<body onload = "inicio()">		
	<header id="menu" class="menu">
    	<div id="logo" class="logo"> 
			<a href="../indexEn.html"><img src="../pics/logo.png" alt="Logo"></a>
		</div>
		<div class="idiomas"> 
			<a href="../programacion_multimedia/audios.html">Castellano</a>
		</div>
		<section>	 
			<nav id="menuPrinc">
				<ul class="children"> 
					<li><a href="../v.html"><span class="icon-home3"></span>Introduction</a></li>
					<li class="submenu">
						<a href="#"><span class="icon-profile"></span>Portfolio<span class="caret icon-arrow-down2" ></span></a>
						<ul class="children">
							<li><a href="../video_game_development.html">Video Game Development</a></li>
							<li><a href="../advanced_animation.html">Advanced Animation Techniques</a></li>
							<li><a href="../animation.html">Computer Animation</a></li>
							<li><a href="../simulation.html">Computer Simulation </a></li>
							<li><a href="../multimedia_programming.html">Multimedia Programming</a></li>
						</ul>
					</li>
				</ul>
			</nav>
		</section>	
    </header>
	
	<aside class="vertical" id="verticalGeneral">
		<ul>
			<li id="TitleMenuAside">Portfolio</li>
			<li><a href="audio_En.html">Audio</a></li>
			<li><a href="canvas_En.html">Canvas</a></li>		
			<li><a href="x3dom_En.html">X3DOM</a></li>		
			<li><a href="threejs_En.html">Threejs</a></li>	
			<li><a href="d3js_En.html">D3js</a></li>	
		</ul>
	</aside>
			
	<main id="cuerpo" class="cuerpo">
    	<h1>Multimedia programming</h1>
    	<h2>Audio</h2>
		<div>
			<p>
				Example of dynamic loading of several music files to an "audio" element in HTML5.
			</p>
		</div>
		<div id="audiosbox">
			<audio controls id="audioControl"  onloadeddata="cargar()" ontimeupdate="actualizaTiempo()" onplay="playAhora()" onpause="pauseAhora()">
				<source id="audioActual"></source>
			</audio>
			<div id="textoAudio"></div>  
			
			<hr/>
		</div>
		<div id="listaAudiosbox">
			<table id="songs">
				<tr>
					<td id="musica1" class="musica" onclick="playCancion(1)">
						1. E.T. - Flying theme 
					</td>
				</tr>
				<tr>
					<td id="musica2" class="musica" onclick="playCancion(2)">
						2. Appocalypse now - Ride of the valkyries
					</td>
				</tr>
				<tr>
					<td id="musica3" class="musica" onclick="playCancion(3)">
						3. Excalibur - O fortuna
					</td>
				</tr>
			</table>
		</div>
		<span class="ir-arriba icon-arrow-up2"></span>		
		<br/><br/><br/><br/><br/><br/> 
		<footer id="footercontainer">
			<div id="authors"> Clara Peñalva Carbonell
				<div id="socialFooter">
					<a href="https://www.youtube.com/channel/UCPH4xYbSNIHqG4LUHQTgQAw" target="_blank"><span class="icon-youtube4"></span> </a>
					<a href="https://es.linkedin.com/in/clara-penalva" target="_blank"><span class="icon-linkedin"></span> </a>
				</div>
			</div>
		</footer> 
	</main>
</body>
</html>
